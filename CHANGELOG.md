# 变更日志 (CHANGELOG)

本文档记录了图像处理工具箱项目的所有重要变更。

格式基于 [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)。

<<<<<<< HEAD
---
=======
## [1.0.1] - 2025-12-05

### 修复
- 修复了SVG转图片转换器中重复下载同一文件的问题
  - 添加了防抖机制，防止同一文件被下载多次
  - 优化了下载事件处理，移除了重复的触发方式
  - 在任务删除和清空时正确清理防抖标志

## [1.0.0] - 2025-12-05

### 新增
- 初始版本发布
- 图像压缩功能
  - 支持 PNG、JPG/JPEG、WebP、GIF、BMP 格式
  - 1-100级压缩强度控制
  - 批量处理
  - 压缩结果对比显示
- SVG转图片功能
  - 支持拖拽上传或直接粘贴SVG代码
  - 输出格式：PNG、JPG
  - 批量转换为 PNG / JPG 格式
  - 自定义输出尺寸（1x-4x）与质量（1-10级）
  - 完全离线运行无需联网
- 响应式设计，适配不同尺寸的弹出窗口
- 完全本地处理，保护用户隐私

### 更改
- 优化用户界面设计
- 改进性能和稳定性

### 修复
- 修复了若干已知问题
>>>>>>> 6ed98a273c39d6e3f3bc7ba573d967f4c41bb4dc

## [Unreleased]

### 计划中

---

## [1.1.0] - 2026-01-10

### 新增 (Added)

#### 图像压缩模块

- ✨ 新增 PPTX 文件支持，可自动提取演示文稿中的所有图片
- ✨ 新增批量下载功能，支持一键下载所有处理结果
- ✨ 新增智能去重功能，自动识别并避免重复处理图片
- ✨ 新增尺寸调整预设，新增 1920px 和 1280px 选项
- ✨ 优化并发控制模块，提升批量处理性能 50%

#### SVG 转换模块

- ✨ 新增批量转换功能，支持多任务队列管理
- ✨ 新增实时进度显示，展示转换过程中的详细信息
- ✨ 优化 SVG 安全处理，增强 XXE 攻击防护
- ✨ 新增多格式输出支持，支持 GIF 和 BMP 格式

#### 共享模块

- ✨ 新增 PPTX 处理模块，支持图片提取和去重
- ✨ 新增并发控制模块，优化资源管理和内存使用
- ✨ 新增资源管理器，自动清理泄漏和释放内存
- ✨ 优化文件验证器，增加魔数验证和 MIME 类型检查

#### 用户界面

- ✨ 新增多语言支持（中文、英文），实时切换无需刷新
- ✨ 新增主题支持（浅色、深色、跟随系统）
- ✨ 优化返回按钮和统一按钮样式
- ✨ 新增 Toast 提示样式，提升用户反馈体验

### 修改 (Changed)

- 📝 重构图像压缩模块代码，提升可维护性
- 📝 重构 SVG 转换模块代码，优化模块化结构
- 📝 优化文件验证逻辑，增强安全性检查
- 📝 改进并发处理机制，避免浏览器卡顿
- 📝 优化 PPTX 提取算法，提升处理速度

### 移除 (Removed)

- 🗑 删除临时测试文件（clear-all-storage.html、simple-svg-test.html 等）
- 🗑 清理冗余文档（docs/ 目录下的测试和评估报告）
- 🗑 移除过时的配置和代码
- 🗑 清理 .codebuddy、.qoder、.trae 临时目录

### 修复 (Fixed)

- 🐛 修复图像压缩模块的文件大小显示错误
- 🐛 修复 SVG 转换器的批量下载功能异常
- 🐛 修复 PPTX 文件处理时的内存泄漏问题
- 🐛 修复并发控制时的任务队列死锁
- 🐛 修复文件验证器的 MIME 类型误判问题
- 🐛 修复 SVG 安全处理的标签过滤漏洞

### 安全增强 (Security)

- 🔒 增强 SVG 输入的安全验证，防范 XSS 和 XXE 攻击
- 🔒 改进文件上传的安全性检查，增加危险扩展名黑名单
- 🔒 优化安全存储模块，增强数据完整性校验
- 🔒 添加文件大小限制，防止拒绝服务攻击
- 🔒 实施严格的 CSP（Content Security Policy）策略

### 文档 (Documentation)

- 📄 新增 LICENSE 文件（MIT 开源许可）
- 📄 新增 CONTRIBUTING.md（贡献指南）
- 📄 完善 README.md，补充安装和使用说明
- 📄 新增变更日志文档（CHANGELOG.md）
- 📄 更新代码注释和文档说明

---

## [1.0.0] - 2025-12-15

### 新增 (Added)

#### 图像压缩功能

- ✨ 支持多种格式：PNG、JPG/JPEG、WebP
- ✨ 10 级压缩质量控制
- ✨ 批量处理支持
- ✨ 实时预览压缩效果

#### SVG 转图片功能

- ✨ 支持拖拽上传和粘贴代码
- ✨ 输出格式：PNG、JPG
- ✨ 可调节分辨率倍数（1x-3x）
- ✨ 可调节图片质量（1-10 级）

#### 安全特性

- 🔒 完全本地处理，不上传任何数据
- 🔒 文件类型验证和安全检查
- 🔒 SVG 内容安全清理
- 🔒 安全的本地存储

### 文档 (Documentation)

- 📄 创建初始 README.md
- 📄 创建基础的项目结构说明

---

## 版本号说明

项目采用 [语义化版本控制](https://semver.org/lang/zh-CN/)：

- **主版本号（MAJOR）**：不兼容的 API 修改
- **次版本号（MINOR）**：向后兼容的功能新增
- **修订号（PATCH）**：向后兼容的 Bug 修复

---

## 贡献者

感谢所有为图像处理工具箱项目做出贡献的开发者！🙏

- 主要贡献者：[您的 GitHub 用户名]
- 贡献方式：代码、文档、测试、反馈

---

## 链接

- [GitHub 仓库](https://github.com/kscz0000/OLBrowser-Plugin)
- [Issue 追踪](https://github.com/kscz0000/OLBrowser-Plugin/issues)
- [Pull Requests](https://github.com/kscz0000/OLBrowser-Plugin/pulls)
- [发布版本](https://github.com/kscz0000/OLBrowser-Plugin/releases)
